"use strict";(self.webpackChunkbackpack=self.webpackChunkbackpack||[]).push([[4968],{"./examples/bpk-component-slider/stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{RangeSlider:()=>RangeSlider,RangeSliderWithMinimumDistance:()=>RangeSliderWithMinimumDistance,SimpleSlider:()=>SimpleSlider,SimpleSliderWithSteps:()=>SimpleSliderWithSteps,TimeSlider:()=>TimeSlider,VisualTest:()=>VisualTest,VisualTestWithZoom:()=>VisualTestWithZoom,default:()=>stories});var BpkSlider_module_namespaceObject={};__webpack_require__.r(BpkSlider_module_namespaceObject),__webpack_require__.d(BpkSlider_module_namespaceObject,{"bpk-slider":()=>_1,"bpk-slider__range":()=>_2,"bpk-slider__thumb":()=>_3,"bpk-slider__track":()=>_4});var dist=__webpack_require__("./node_modules/@storybook/addon-docs/dist/index.mjs"),blocks_dist=__webpack_require__("./node_modules/@storybook/blocks/dist/index.mjs"),react=__webpack_require__("./node_modules/react/index.js"),react_compose_refs_dist=__webpack_require__("./packages/node_modules/@radix-ui/react-compose-refs/dist/index.mjs"),react_slider_dist=__webpack_require__("./packages/node_modules/@radix-ui/react-slider/dist/index.mjs"),bpk_react_utils=__webpack_require__("./packages/bpk-react-utils/index.ts"),_1="bpk-slider-NmOrp",_2="bpk-slider__range-vQ2EJ",_3="bpk-slider__thumb-fzlyw",_4="bpk-slider__track-MDgLR",jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const getClassName=(0,bpk_react_utils.fD)(BpkSlider_module_namespaceObject),BpkSlider=_ref=>{let{ariaLabel,ariaValuetext,inputProps,max,min,minDistance,onAfterChange,onChange,step,value,...rest}=_ref;const invert=(0,bpk_react_utils.V8)(),currentValue=Array.isArray(value)?value:[value],processSliderValues=(sliderValues,callback)=>{const val=1===sliderValues.length?sliderValues[0]:sliderValues;callback&&callback(val)},thumbRefs=[(0,react.useRef)(null),(0,react.useRef)(null)];return(0,jsx_runtime.jsxs)(react_slider_dist.bL,{className:getClassName("bpk-slider"),defaultValue:currentValue,min,max,step:step||1,onValueChange:sliderValues=>{processSliderValues(sliderValues,onChange)},onValueCommit:sliderValues=>{processSliderValues(sliderValues,onAfterChange)},inverted:invert,minStepsBetweenThumbs:minDistance,...rest,children:[(0,jsx_runtime.jsx)(react_slider_dist.CC,{className:getClassName("bpk-slider__track"),children:(0,jsx_runtime.jsx)(react_slider_dist.Q6,{className:getClassName("bpk-slider__range")})}),currentValue.map(((val,index)=>(0,jsx_runtime.jsx)(react_slider_dist.zi,{"aria-label":ariaLabel[index],"aria-valuetext":ariaValuetext?ariaValuetext[index]:val.toString(),className:getClassName("bpk-slider__thumb"),"aria-valuenow":currentValue[index],ref:thumbRefs[index],asChild:!0,children:(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsx)(BubbleInput,{value:currentValue[index],thumbRef:thumbRefs[index],...inputProps&&inputProps[index]})})},ariaLabel[index])))]})},BubbleInput=(0,react.forwardRef)(((props,forwardedRef)=>{const{thumbRef,value,...inputProps}=props,ref=(0,react.useRef)(),composedRefs=(0,react_compose_refs_dist.s)(forwardedRef,ref);return(0,react.useEffect)((()=>{const thumb=thumbRef.current,input=ref.current;if(thumb){const interactionEndHandler=event=>{var _touches;if(input&&(event.button>-1||(null===(_touches=event.touches)||void 0===_touches?void 0:_touches.length)>-1||["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(event.key))){const newValue=parseFloat(input.getAttribute("value"));value!==newValue&&(0,bpk_react_utils.ZW)(input,newValue)}},focusInHandler=()=>{const controller=new AbortController;thumb.addEventListener("focusout",(()=>controller.abort()),{once:!0}),document.addEventListener("click",interactionEndHandler,{signal:controller.signal}),thumb.addEventListener("touchend",interactionEndHandler,{signal:controller.signal}),thumb.addEventListener("keyup",interactionEndHandler,{signal:controller.signal})};return thumb.addEventListener("focusin",focusInHandler),()=>{thumb&&thumb.removeEventListener("focusin",focusInHandler)}}return()=>{}}),[thumbRef,ref,value]),(0,jsx_runtime.jsx)("input",{style:{display:"none"},...inputProps,ref:composedRefs,type:"number",defaultValue:value})})),src_BpkSlider=BpkSlider;try{BpkSlider.displayName="BpkSlider",BpkSlider.__docgenInfo={description:"",displayName:"BpkSlider",props:{max:{defaultValue:null,description:"",name:"max",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!0,type:{name:"number"}},minDistance:{defaultValue:null,description:"",name:"minDistance",required:!1,type:{name:"number | undefined"}},step:{defaultValue:null,description:"",name:"step",required:!1,type:{name:"number | undefined"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: number | number[]) => void"}},onAfterChange:{defaultValue:null,description:"",name:"onAfterChange",required:!1,type:{name:"((value: number | number[]) => void) | undefined"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number | number[]"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!0,type:{name:"string[]"}},ariaValuetext:{defaultValue:null,description:"",name:"ariaValuetext",required:!1,type:{name:"string[] | undefined"}},inputProps:{defaultValue:null,description:"",name:"inputProps",required:!1,type:{name:"[{ [key: string]: any; }] | [{ [key: string]: any; }, { [key: string]: any; }] | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/bpk-component-slider/src/BpkSlider.tsx#BpkSlider"]={docgenInfo:BpkSlider.__docgenInfo,name:"BpkSlider",path:"packages/bpk-component-slider/src/BpkSlider.tsx#BpkSlider"})}catch(__react_docgen_typescript_loader_error){}var prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),bpk_component_rtl_toggle=__webpack_require__("./packages/bpk-component-rtl-toggle/index.ts");const bpk_component_slider=src_BpkSlider;function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}class SliderContainer extends react.Component{constructor(props){super(),_defineProperty(this,"handleChange",(value=>{this.setState({value})})),_defineProperty(this,"valueTimeFormatter",(value=>"12:".concat(value.toString().padStart(2,"0"),"pm"))),_defineProperty(this,"valueComponent",((min,max,formatter)=>(0,jsx_runtime.jsxs)("p",{children:[formatter?formatter(min):min," - ",formatter?formatter(max):max]}))),this.state={value:props.value||50}}render(){const min=this.props.min||0,time=!!this.props.time;return(0,jsx_runtime.jsxs)("div",{children:[this.state.value.length?this.valueComponent(this.state.value[0],this.state.value[1],time&&this.valueTimeFormatter):this.valueComponent(min,this.state.value,time&&this.valueTimeFormatter),(0,jsx_runtime.jsx)(bpk_component_slider,{min,max:time?59:100,step:1,onChange:this.handleChange,...this.props,value:this.state.value,ariaLabel:["minimum","maximum"],ariaValuetext:[this.state.value[0],this.state.value[1]],inputProps:[{name:"min"},{name:"max"}]}),(0,jsx_runtime.jsx)("br",{})]})}}SliderContainer.propTypes={time:prop_types_default().bool,min:prop_types_default().number.isRequired,value:prop_types_default().oneOfType([prop_types_default().arrayOf(prop_types_default().number),prop_types_default().number]).isRequired},SliderContainer.defaultProps={time:!1};const EnhancedSlider=(0,bpk_component_rtl_toggle.i)(SliderContainer),SimpleSliderExample=()=>(0,jsx_runtime.jsx)(EnhancedSlider,{min:0,value:50}),TimeSliderExample=()=>(0,jsx_runtime.jsx)(EnhancedSlider,{time:!0,min:0,value:50}),SimpleSliderWithStepsExample=()=>(0,jsx_runtime.jsx)(EnhancedSlider,{min:0,value:50,step:10}),RangeSliderExample=()=>(0,jsx_runtime.jsx)(EnhancedSlider,{min:0,value:[20,80]}),RangeSliderWithMinimumDistanceExample=()=>(0,jsx_runtime.jsx)(EnhancedSlider,{min:0,value:[20,80],minDistance:10}),MixedExample=()=>(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(SimpleSliderExample,{}),(0,jsx_runtime.jsx)(RangeSliderExample,{})]});SimpleSliderExample.__docgenInfo={description:"",methods:[],displayName:"SimpleSliderExample"},TimeSliderExample.__docgenInfo={description:"",methods:[],displayName:"TimeSliderExample"},SimpleSliderWithStepsExample.__docgenInfo={description:"",methods:[],displayName:"SimpleSliderWithStepsExample"},RangeSliderExample.__docgenInfo={description:"",methods:[],displayName:"RangeSliderExample"},RangeSliderWithMinimumDistanceExample.__docgenInfo={description:"",methods:[],displayName:"RangeSliderWithMinimumDistanceExample"},MixedExample.__docgenInfo={description:"",methods:[],displayName:"MixedExample"},SimpleSliderExample.__docgenInfo={description:"",methods:[],displayName:"SimpleSliderExample"},TimeSliderExample.__docgenInfo={description:"",methods:[],displayName:"TimeSliderExample"},SimpleSliderWithStepsExample.__docgenInfo={description:"",methods:[],displayName:"SimpleSliderWithStepsExample"},RangeSliderExample.__docgenInfo={description:"",methods:[],displayName:"RangeSliderExample"},RangeSliderWithMinimumDistanceExample.__docgenInfo={description:"",methods:[],displayName:"RangeSliderWithMinimumDistanceExample"},MixedExample.__docgenInfo={description:"",methods:[],displayName:"MixedExample"};const stories={title:"bpk-component-slider",component:src_BpkSlider,parameters:{docs:{page:()=>(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(blocks_dist.hE,{}),(0,jsx_runtime.jsx)(dist.ov,{exclude:["zoomEnabled"]}),(0,jsx_runtime.jsx)(blocks_dist.oz,{children:"\n              **Note**: minDistance and step props are multiplied to calculate the minimum distance allowed between thumbs\n\n            **Note**: The aria props are the values that will be passed to the thumb of the slider. If your slider is for times for instance you would likely pass something like the following to ensure the value of the thumb is read out in a formatted state rather than just the value of where the thumb is on the track. If no `ariaValuetext` is passed to the component the screen reader will read just the value of the thumb\n\n            ariaLabels={['From', 'To']}\n    ariaValuetext={[getSliderTime(finalSliderStart), getSliderTime(finalSliderEnd)]}\n\n          "})]})}}},SimpleSlider=SimpleSliderExample,TimeSlider=TimeSliderExample,SimpleSliderWithSteps=SimpleSliderWithStepsExample,RangeSlider=RangeSliderExample,RangeSliderWithMinimumDistance=RangeSliderWithMinimumDistanceExample,VisualTest=MixedExample,VisualTestWithZoom=VisualTest.bind({});VisualTestWithZoom.args={zoomEnabled:!0}}}]);