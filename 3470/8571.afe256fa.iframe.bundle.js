"use strict";(self.webpackChunkbackpack=self.webpackChunkbackpack||[]).push([[8571],{"./examples/bpk-storybook-utils/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{hE:()=>src_BpkDarkExampleWrapper,XI:()=>action});var BpkDarkExampleWrapper_module_namespaceObject={};__webpack_require__.r(BpkDarkExampleWrapper_module_namespaceObject);var bpk_react_utils=__webpack_require__("./packages/bpk-react-utils/index.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const getClassName=(0,bpk_react_utils.fD)(BpkDarkExampleWrapper_module_namespaceObject.default),BpkDarkExampleWrapper=props=>{const{padded,...rest}=props;return(0,jsx_runtime.jsx)("div",{className:getClassName("bpk-dark-example-wrapper",padded&&"bpk-dark-example-wrapper--padded"),...rest})};BpkDarkExampleWrapper.defaultProps={padded:!1},BpkDarkExampleWrapper.__docgenInfo={description:"",methods:[],displayName:"BpkDarkExampleWrapper",props:{padded:{defaultValue:{value:"false",computed:!1},required:!1,flowType:{name:"boolean"},description:""}}};const src_BpkDarkExampleWrapper=BpkDarkExampleWrapper;BpkDarkExampleWrapper.__docgenInfo={description:"",methods:[],displayName:"BpkDarkExampleWrapper",props:{padded:{required:!1,flowType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};let action=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return()=>console.info(args)};try{const storybookAction=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.js").XI;storybookAction&&(action=storybookAction)}catch(e){console.info("Storybook action is not available. Falling back to `console.log`.")}},"./packages/bpk-component-split-input/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,n:()=>_src_BpkSplitInput__WEBPACK_IMPORTED_MODULE_0__.n});var _src_BpkSplitInput__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/bpk-component-split-input/src/BpkSplitInput.js");const __WEBPACK_DEFAULT_EXPORT__=_src_BpkSplitInput__WEBPACK_IMPORTED_MODULE_0__.A},"./packages/bpk-component-split-input/src/BpkSplitInput.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>bpk_component_input.nl,A:()=>src_BpkSplitInput});var BpkInputField_module_namespaceObject={};__webpack_require__.r(BpkInputField_module_namespaceObject);var BpkSplitInput_module_namespaceObject={};__webpack_require__.r(BpkSplitInput_module_namespaceObject);var prop_types=__webpack_require__("./packages/node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("./node_modules/react/index.js"),bpk_component_input=__webpack_require__("./packages/bpk-component-input/index.ts"),bpk_react_utils=__webpack_require__("./packages/bpk-react-utils/index.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const getClassName=(0,bpk_react_utils.fD)(BpkInputField_module_namespaceObject.default);class BpkInputField extends react.Component{componentDidUpdate(prevProps){const{focus}=this.props;prevProps.focus!==focus&&this.input&&focus&&(this.input.focus(),this.input.select())}render(){const{focus,id,index,label,value,...rest}=this.props;return(0,jsx_runtime.jsx)("div",{className:getClassName("bpk-input-field"),children:(0,jsx_runtime.jsx)(bpk_component_input.Ay,{id,autoComplete:"off",maxLength:"1","aria-label":"".concat(label," ").concat(index),inputRef:input=>{this.input=input},value:value||"",...rest})},index)}}BpkInputField.propTypes={id:prop_types_default().string.isRequired,label:prop_types_default().string.isRequired,value:prop_types_default().string,focus:prop_types_default().bool.isRequired,index:prop_types_default().number.isRequired},BpkInputField.defaultProps={value:""},BpkInputField.__docgenInfo={description:"",methods:[],displayName:"BpkInputField",props:{value:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},id:{description:"",type:{name:"string"},required:!0},label:{description:"",type:{name:"string"},required:!0},focus:{description:"",type:{name:"bool"},required:!0},index:{description:"",type:{name:"number"},required:!0}}};const src_BpkInputField=BpkInputField;BpkInputField.__docgenInfo={description:"",methods:[],displayName:"BpkInputField",props:{value:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},id:{description:"",type:{name:"string"},required:!0},label:{description:"",type:{name:"string"},required:!0},focus:{description:"",type:{name:"bool"},required:!0},index:{description:"",type:{name:"number"},required:!0}}};function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const BpkSplitInput_getClassName=(0,bpk_react_utils.fD)(BpkSplitInput_module_namespaceObject.default);class BpkSplitInput extends react.Component{constructor(props){super(props),_defineProperty(this,"onInputChange",(input=>{this.setState({inputValue:input});const{onChange}=this.props;onChange(input.join(""))})),_defineProperty(this,"updateInputValue",(value=>{const{focusedInput,inputValue}=this.state;inputValue[focusedInput]=value,this.onInputChange(inputValue)})),_defineProperty(this,"handleSubmit",(()=>{const{onSubmit}=this.props,{inputValue}=this.state;if(this.validateInput(inputValue)){onSubmit(inputValue.join(""))}})),_defineProperty(this,"validateInput",(inputValue=>{let index=0;for(;index<inputValue.length;){if(!this.isInputValid(inputValue[index]))return this.setState({focusedInput:index}),!1;index+=1}return!0})),_defineProperty(this,"isNumeric",(()=>this.props.type===bpk_component_input.nl.number)),_defineProperty(this,"isInputValid",(value=>(this.isNumeric()?/^\d$/.test(value):"string"==typeof value)&&1===value.trim().length)),_defineProperty(this,"focusInput",(inputIndex=>{const{inputLength}=this.props,focusedInput=Math.max(Math.min(inputLength-1,inputIndex),0);this.setState({focusedInput})})),_defineProperty(this,"focusNextInput",(()=>{const{focusedInput}=this.state;this.focusInput(focusedInput+1)})),_defineProperty(this,"focusPreviousInput",(()=>{const{focusedInput}=this.state;this.focusInput(focusedInput-1)})),_defineProperty(this,"handleOnPaste",(e=>{e.preventDefault();const{inputLength}=this.props,{focusedInput,inputValue}=this.state,pastedData=e.clipboardData.getData("text/plain").slice(0,inputLength-focusedInput).split(""),charsReceived=pastedData.length;let firstInvalidInputPosition,position=focusedInput;for(;position<charsReceived;position+=1){const firstElement=pastedData.shift();this.isInputValid(firstElement)?inputValue[position]=firstElement:void 0===firstInvalidInputPosition&&(firstInvalidInputPosition=position)}this.focusInput(void 0!==firstInvalidInputPosition?firstInvalidInputPosition:position),this.onInputChange(inputValue)})),_defineProperty(this,"handleOnKeyDown",(e=>{8===e.keyCode||"Backspace"===e.key?(e.preventDefault(),this.updateInputValue(""),this.focusPreviousInput()):46===e.keyCode||"Delete"===e.key?(e.preventDefault(),this.updateInputValue("")):37===e.keyCode||"Left"===e.key||"ArrowLeft"===e.key?(e.preventDefault(),this.focusPreviousInput()):39===e.keyCode||"Right"===e.key||"ArrowRight"===e.key?(e.preventDefault(),this.focusNextInput()):13===e.keyCode||"Enter"===e.key?(e.preventDefault(),this.handleSubmit()):32!==e.keyCode&&" "!==e.key&&"Spacebar"!==e.key&&"Space"!==e.key||e.preventDefault()})),_defineProperty(this,"handleOnChange",(e=>{const{value}=e.target;this.isInputValid(value)&&(this.updateInputValue(value),this.focusNextInput())})),_defineProperty(this,"handleOnFocus",((e,index)=>{this.setState({focusedInput:index}),e.target.select()})),_defineProperty(this,"renderInputs",(()=>{const{focusedInput,inputValue}=this.state,{id,inputLength,label,large,name,placeholder,type}=this.props,inputs=[];for(let index=0;index<inputLength;index+=1)inputs.push((0,jsx_runtime.jsx)(src_BpkInputField,{index,focus:focusedInput===index,id:"".concat(id,"-").concat(index),label,name,type,large,value:inputValue&&inputValue[index],placeholder,onChange:this.handleOnChange,onInput:this.handleOnChange,onKeyDown:this.handleOnKeyDown,onPaste:this.handleOnPaste,onFocus:e=>this.handleOnFocus(e,index)},index));return inputs})),this.state={focusedInput:0,inputValue:[]}}render(){return(0,jsx_runtime.jsx)("div",{className:BpkSplitInput_getClassName("bpk-split-input"),children:this.renderInputs()})}}BpkSplitInput.propTypes={type:prop_types_default().oneOf([bpk_component_input.nl.text,bpk_component_input.nl.number]),id:prop_types_default().string.isRequired,label:prop_types_default().string.isRequired,name:prop_types_default().string.isRequired,inputLength:prop_types_default().number,placeholder:prop_types_default().string,onChange:prop_types_default().func.isRequired,onSubmit:prop_types_default().func.isRequired,large:prop_types_default().bool},BpkSplitInput.defaultProps={type:bpk_component_input.nl.number,inputLength:4,large:!0,placeholder:""},BpkSplitInput.__docgenInfo={description:"",methods:[{name:"onInputChange",docblock:null,modifiers:[],params:[{name:"input",type:null}],returns:null},{name:"updateInputValue",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null},{name:"handleSubmit",docblock:null,modifiers:[],params:[],returns:null},{name:"validateInput",docblock:null,modifiers:[],params:[{name:"inputValue",type:null}],returns:null},{name:"isNumeric",docblock:null,modifiers:[],params:[],returns:null},{name:"isInputValid",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null},{name:"focusInput",docblock:null,modifiers:[],params:[{name:"inputIndex",type:null}],returns:null},{name:"focusNextInput",docblock:null,modifiers:[],params:[],returns:null},{name:"focusPreviousInput",docblock:null,modifiers:[],params:[],returns:null},{name:"handleOnPaste",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleOnKeyDown",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleOnChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleOnFocus",docblock:null,modifiers:[],params:[{name:"e",type:null},{name:"index",type:null}],returns:null},{name:"renderInputs",docblock:null,modifiers:[],params:[],returns:null}],displayName:"BpkSplitInput",props:{type:{defaultValue:{value:"INPUT_TYPES.number",computed:!0},description:"",type:{name:"enum",value:[{value:"INPUT_TYPES.text",computed:!0},{value:"INPUT_TYPES.number",computed:!0}]},required:!1},inputLength:{defaultValue:{value:"4",computed:!1},description:"",type:{name:"number"},required:!1},large:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},placeholder:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},id:{description:"",type:{name:"string"},required:!0},label:{description:"",type:{name:"string"},required:!0},name:{description:"",type:{name:"string"},required:!0},onChange:{description:"",type:{name:"func"},required:!0},onSubmit:{description:"",type:{name:"func"},required:!0}}};const src_BpkSplitInput=BpkSplitInput;BpkSplitInput.__docgenInfo={description:"",methods:[{name:"onInputChange",docblock:null,modifiers:[],params:[{name:"input",optional:!1,type:null}],returns:null},{name:"updateInputValue",docblock:null,modifiers:[],params:[{name:"value",optional:!1,type:null}],returns:null},{name:"handleSubmit",docblock:null,modifiers:[],params:[],returns:null},{name:"validateInput",docblock:null,modifiers:[],params:[{name:"inputValue",optional:!1,type:null}],returns:null},{name:"isNumeric",docblock:null,modifiers:[],params:[],returns:null},{name:"isInputValid",docblock:null,modifiers:[],params:[{name:"value",optional:!1,type:null}],returns:null},{name:"focusInput",docblock:null,modifiers:[],params:[{name:"inputIndex",optional:!1,type:null}],returns:null},{name:"focusNextInput",docblock:null,modifiers:[],params:[],returns:null},{name:"focusPreviousInput",docblock:null,modifiers:[],params:[],returns:null},{name:"handleOnPaste",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"handleOnKeyDown",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"handleOnChange",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"handleOnFocus",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null},{name:"index",optional:!1,type:null}],returns:null},{name:"renderInputs",docblock:null,modifiers:[],params:[],returns:null}],displayName:"BpkSplitInput",props:{type:{defaultValue:{value:"'number'",computed:!1},description:"",type:{name:"enum",value:[{value:"'text'",computed:!1},{value:"'number'",computed:!1}]},required:!1},inputLength:{defaultValue:{value:"4",computed:!1},description:"",type:{name:"number"},required:!1},large:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},placeholder:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},id:{description:"",type:{name:"string"},required:!0},label:{description:"",type:{name:"string"},required:!0},name:{description:"",type:{name:"string"},required:!0},onChange:{description:"",type:{name:"func"},required:!0},onSubmit:{description:"",type:{name:"func"},required:!0}}}}}]);