"use strict";(self.webpackChunkbackpack=self.webpackChunkbackpack||[]).push([[8540],{"./examples/bpk-component-tooltip/stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Dark:()=>Dark,Default:()=>Default,Focus:()=>Focus,OnALink:()=>OnALink,OnTheSide:()=>OnTheSide,PopperModifiers:()=>PopperModifiers,WithoutPadding:()=>WithoutPadding,default:()=>stories});var react=__webpack_require__("./node_modules/react/index.js"),popper=__webpack_require__("./packages/node_modules/@popperjs/core/lib/popper.js"),bpk_react_utils=__webpack_require__("./packages/bpk-react-utils/index.ts");const TOOLTIP_TYPES={light:"light",dark:"dark"},BpkTooltip_module={"bpk-tooltip-portal":"bpk-tooltip-portal-kpIxq","bpk-tooltip-portal--target":"bpk-tooltip-portal--target-Tpf1b","bpk-tooltip":"bpk-tooltip-bdYrF","bpk-tooltip--appear":"bpk-tooltip--appear-emySq","bpk-tooltip--appear-active":"bpk-tooltip--appear-active-hpThZ","bpk-tooltip__arrow":"bpk-tooltip__arrow-j1ffF","bpk-tooltip__arrow--dark":"bpk-tooltip__arrow--dark-qb9zx","bpk-tooltip__inner":"bpk-tooltip__inner-zUTRL","bpk-tooltip__inner--padded":"bpk-tooltip__inner--padded-OCqTI","bpk-tooltip__inner--dark":"bpk-tooltip__inner--dark-Bi0ee"};var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const getClassName=(0,bpk_react_utils.fD)(BpkTooltip_module),BpkTooltip=_ref=>{let{children,className=null,id,padded=!0,type=TOOLTIP_TYPES.light,...rest}=_ref;const classNames=getClassName("bpk-tooltip",className),innerClassNames=getClassName("bpk-tooltip__inner",type===TOOLTIP_TYPES.dark&&"bpk-tooltip__inner--dark",padded&&"bpk-tooltip__inner--padded"),arrowClassNames=getClassName("bpk-tooltip__arrow",type===TOOLTIP_TYPES.dark&&"bpk-tooltip__arrow--dark");return(0,jsx_runtime.jsx)(bpk_react_utils.nW,{appearClassName:getClassName("bpk-tooltip--appear"),appearActiveClassName:getClassName("bpk-tooltip--appear-active"),transitionTimeout:200,children:(0,jsx_runtime.jsxs)("section",{id,tabIndex:-1,role:"dialog",className:classNames,...rest,children:[(0,jsx_runtime.jsx)("span",{id:"js-bpk-popover-arrow","data-popper-arrow":!0,className:arrowClassNames,role:"presentation"}),(0,jsx_runtime.jsx)("div",{className:innerClassNames,children})]})})},src_BpkTooltip=BpkTooltip;try{BpkTooltip.displayName="BpkTooltip",BpkTooltip.__docgenInfo={description:"",displayName:"BpkTooltip",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:{value:"light"},description:"",name:"type",required:!1,type:{name:'"light" | "dark" | undefined'}},padded:{defaultValue:{value:"true"},description:"",name:"padded",required:!1,type:{name:"boolean | undefined"}},className:{defaultValue:{value:"null"},description:"",name:"className",required:!1,type:{name:"string | null | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/bpk-component-tooltip/src/BpkTooltip.tsx#BpkTooltip"]={docgenInfo:BpkTooltip.__docgenInfo,name:"BpkTooltip",path:"packages/bpk-component-tooltip/src/BpkTooltip.tsx#BpkTooltip"})}catch(__react_docgen_typescript_loader_error){}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const BpkTooltipPortal_getClassName=(0,bpk_react_utils.fD)(BpkTooltip_module);class BpkTooltipPortal extends react.Component{constructor(props){super(props),_defineProperty(this,"onOpen",((tooltipElement,targetElement)=>{const stdModifiers=[{name:"computeStyles",options:{gpuAcceleration:!1}},{name:"offset",options:{offset:[0,8]}}];this.popper=(0,popper.n4)(targetElement,tooltipElement,{placement:this.props.placement,modifiers:this.props.popperModifiers?[...this.props.popperModifiers,...stdModifiers]:stdModifiers}),this.popper.update()})),_defineProperty(this,"beforeClose",(done=>{this.popper&&(this.popper.destroy(),this.popper=null),done()})),_defineProperty(this,"openTooltip",(()=>{this.setState({isOpen:!0})})),_defineProperty(this,"closeTooltip",(()=>{this.setState({isOpen:!1})})),this.state={isOpen:!1},this.popper=null,this.targetRef=null}componentDidMount(){if(this.targetRef){const ref=this.targetRef;ref.addEventListener("focusin",this.openTooltip),ref.addEventListener("focusout",this.closeTooltip),ref.addEventListener("mouseenter",this.openTooltip),ref.addEventListener("mouseleave",this.closeTooltip)}}componentWillUnmount(){if(this.targetRef){const ref=this.targetRef;ref.addEventListener("focusin",this.openTooltip),ref.addEventListener("focusout",this.closeTooltip),ref.removeEventListener("mouseenter",this.openTooltip),ref.removeEventListener("mouseleave",this.closeTooltip)}}render(){const{ariaLabel,children,hideOnTouchDevices,padded,placement,popperModifiers,portalClassName,portalStyle,renderTarget,target,...rest}=this.props,classNames=[BpkTooltipPortal_getClassName("bpk-tooltip-portal")],renderPortal=!("undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0)&&hideOnTouchDevices),targetWithAccessibilityProps=(0,react.cloneElement)(target,{tabIndex:"0","aria-label":ariaLabel});return portalClassName&&classNames.push(portalClassName),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[targetWithAccessibilityProps,renderPortal&&(0,jsx_runtime.jsx)(bpk_react_utils.ZL,{target:targetWithAccessibilityProps,targetRef:targetRef=>{this.targetRef=targetRef},isOpen:this.state.isOpen,onOpen:this.onOpen,onClose:this.closeTooltip,style:portalStyle,renderTarget,className:classNames.join(" "),children:(0,jsx_runtime.jsx)(src_BpkTooltip,{padded,...rest,children})})]})}}_defineProperty(BpkTooltipPortal,"defaultProps",{className:null,padded:!0,type:TOOLTIP_TYPES.light,placement:"bottom",hideOnTouchDevices:!0,portalStyle:null,portalClassName:null,renderTarget:null,popperModifiers:null});const src_BpkTooltipPortal=BpkTooltipPortal;try{BpkTooltipPortal.displayName="BpkTooltipPortal",BpkTooltipPortal.__docgenInfo={description:"",displayName:"BpkTooltipPortal",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:{value:"light"},description:"",name:"type",required:!1,type:{name:'"light" | "dark" | undefined'}},padded:{defaultValue:{value:"true"},description:"",name:"padded",required:!1,type:{name:"boolean | undefined"}},className:{defaultValue:{value:"null"},description:"",name:"className",required:!1,type:{name:"string | null | undefined"}},ariaLabel:{defaultValue:null,description:"Tooltips are invisible to assistive technologies such as screen readers.\nTo improve accessibility, `ariaLabel` is required to describe the content of the tooltip to assistive technologies.\nThe label will be used on the `target` element, so any existing `aria-label` attached to `target` will be overridden.",name:"ariaLabel",required:!0,type:{name:"string"}},target:{defaultValue:null,description:'"target" should be a DOM element with a "ref" attached to it.',name:"target",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},placement:{defaultValue:{value:"bottom"},description:"",name:"placement",required:!1,type:{name:'"bottom" | "top" | "right" | "left" | "auto" | undefined'}},hideOnTouchDevices:{defaultValue:{value:"true"},description:"",name:"hideOnTouchDevices",required:!1,type:{name:"boolean | undefined"}},portalStyle:{defaultValue:{value:"null"},description:"",name:"portalStyle",required:!1,type:{name:"object | undefined"}},portalClassName:{defaultValue:{value:"null"},description:"",name:"portalClassName",required:!1,type:{name:"string | undefined"}},renderTarget:{defaultValue:{value:"null"},description:"",name:"renderTarget",required:!1,type:{name:"(() => HTMLElement | null) | null"}},popperModifiers:{defaultValue:{value:"null"},description:'Please refer to the [documentation](https://popper.js.org/docs/v2/modifiers/) for the underlying positioning library "Popper.js".\nYou can achieve various behaviours such as allowing the tooltip to overflow the viewport etc.',name:"popperModifiers",required:!1,type:{name:"object[] | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/bpk-component-tooltip/src/BpkTooltipPortal.tsx#BpkTooltipPortal"]={docgenInfo:BpkTooltipPortal.__docgenInfo,name:"BpkTooltipPortal",path:"packages/bpk-component-tooltip/src/BpkTooltipPortal.tsx#BpkTooltipPortal"})}catch(__react_docgen_typescript_loader_error){}var base_es6=__webpack_require__("./node_modules/@skyscanner/bpk-foundations-web/tokens/base.es6.js"),bpk_component_text=__webpack_require__("./packages/bpk-component-text/index.ts");const bpk_component_tooltip=src_BpkTooltipPortal,wrapperStyle={display:"flex",justifyContent:"start",alignItems:"center"},Heading=(0,bpk_react_utils.i8)(bpk_component_text.A,{textStyle:bpk_component_text.r.bodyLongform,tagName:"h4"}),HeadingComponent=(0,react.forwardRef)(((props,ref)=>(0,jsx_runtime.jsx)("div",{ref,children:(0,jsx_runtime.jsx)(Heading,{children:props.children})}))),DefaultExample=()=>{const target=(0,react.useRef)(null);return(0,jsx_runtime.jsx)("div",{style:wrapperStyle,children:(0,jsx_runtime.jsx)(bpk_component_tooltip,{ariaLabel:"Montréal-Trudeau International Airport",id:"my-tooltip",target:(0,jsx_runtime.jsx)(HeadingComponent,{ref:target,children:"YUL"}),children:"Montréal-Trudeau International Airport"})})},DarkExample=()=>{const target=(0,react.useRef)(null);return(0,jsx_runtime.jsx)("div",{style:wrapperStyle,children:(0,jsx_runtime.jsx)(bpk_component_tooltip,{ariaLabel:"Edinburgh Airport",type:TOOLTIP_TYPES.dark,id:"my-tooltip",target:(0,jsx_runtime.jsx)(HeadingComponent,{ref:target,children:"EDI"}),children:"Edinburgh Airport"})})},SideExample=()=>{const target=(0,react.useRef)(null);return(0,jsx_runtime.jsx)("div",{style:wrapperStyle,children:(0,jsx_runtime.jsx)(bpk_component_tooltip,{ariaLabel:"Julius Nyerere International Airport, Dar es Salaam",id:"my-tooltip",target:(0,jsx_runtime.jsx)(HeadingComponent,{ref:target,children:"DAR"}),placement:"right",children:"Julius Nyerere International Airport, Dar es Salaam"})})},NoPaddingExample=()=>{const target=(0,react.useRef)(null);return(0,jsx_runtime.jsx)("div",{style:wrapperStyle,children:(0,jsx_runtime.jsx)(bpk_component_tooltip,{ariaLabel:"Singapore Changi Airport",id:"my-tooltip",target:(0,jsx_runtime.jsx)(HeadingComponent,{ref:target,children:"SIN"}),padded:!1,children:(0,jsx_runtime.jsx)("div",{style:{borderBottomWidth:"5px",borderBottomColor:base_es6.vBi,borderBottomStyle:"solid",padding:".25rem"},children:"Singapore Changi Airport"})})})},LinkExample=()=>{const target=(0,react.useRef)(null);return(0,jsx_runtime.jsx)("div",{style:wrapperStyle,children:(0,jsx_runtime.jsx)(bpk_component_tooltip,{ariaLabel:"We do hotels too!",id:"my-tooltip",target:(0,jsx_runtime.jsx)("a",{href:"//skyscanner.net/hotels",target:"_blank",rel:"noopener noreferrer",ref:target,children:"Hotels"}),children:"We do hotels too!"})})},PopperModifiersExample=()=>{const target=(0,react.useRef)(null);return(0,jsx_runtime.jsx)("div",{style:wrapperStyle,children:(0,jsx_runtime.jsx)(bpk_component_tooltip,{ariaLabel:"Berlin Brandenburg Airport",id:"my-tooltip",target:(0,jsx_runtime.jsx)(HeadingComponent,{ref:target,children:"BER"}),popperModifiers:[{name:"flip",options:{enabled:!1}}],children:"Berlin Brandenburg Airport"})})},FocusExample=()=>{const targetRef1=(0,react.useRef)(null),targetRef2=(0,react.useRef)(null),targetRef3=(0,react.useRef)(null),targetRef5=(0,react.useRef)(null);return(0,jsx_runtime.jsxs)("div",{style:wrapperStyle,children:[(0,jsx_runtime.jsx)(bpk_component_tooltip,{ariaLabel:"Should be focused on first",id:"my-tooltip",target:(0,jsx_runtime.jsx)(HeadingComponent,{ref:targetRef1,children:"One"}),children:"Should be focused on first"}),(0,jsx_runtime.jsx)(bpk_component_tooltip,{ariaLabel:"Should be focused on second",id:"my-tooltip",target:(0,jsx_runtime.jsx)(HeadingComponent,{ref:targetRef2,children:"Two"}),children:"Should be focused on second"}),(0,jsx_runtime.jsx)(bpk_component_tooltip,{ariaLabel:"Should be focused on third",id:"my-tooltip",target:(0,jsx_runtime.jsx)(HeadingComponent,{ref:targetRef3,children:"Three"}),children:"Should be focused on third"}),(0,jsx_runtime.jsx)("button",{type:"button",onClick:()=>{},children:"Four"}),(0,jsx_runtime.jsx)(bpk_component_tooltip,{ariaLabel:"Should be focused on fifth",id:"my-tooltip",target:(0,jsx_runtime.jsx)(HeadingComponent,{ref:targetRef5,children:"Five"}),children:"Should be focused on fifth"})]})};DefaultExample.__docgenInfo={description:"",methods:[],displayName:"DefaultExample"},DarkExample.__docgenInfo={description:"",methods:[],displayName:"DarkExample"},SideExample.__docgenInfo={description:"",methods:[],displayName:"SideExample"},NoPaddingExample.__docgenInfo={description:"",methods:[],displayName:"NoPaddingExample"},LinkExample.__docgenInfo={description:"",methods:[],displayName:"LinkExample"},PopperModifiersExample.__docgenInfo={description:"",methods:[],displayName:"PopperModifiersExample"},FocusExample.__docgenInfo={description:"",methods:[],displayName:"FocusExample"},DefaultExample.__docgenInfo={description:"",methods:[],displayName:"DefaultExample"},DarkExample.__docgenInfo={description:"",methods:[],displayName:"DarkExample"},SideExample.__docgenInfo={description:"",methods:[],displayName:"SideExample"},NoPaddingExample.__docgenInfo={description:"",methods:[],displayName:"NoPaddingExample"},LinkExample.__docgenInfo={description:"",methods:[],displayName:"LinkExample"},PopperModifiersExample.__docgenInfo={description:"",methods:[],displayName:"PopperModifiersExample"},FocusExample.__docgenInfo={description:"",methods:[],displayName:"FocusExample"};const stories={title:"bpk-component-tooltip",component:src_BpkTooltipPortal},Default=DefaultExample,Dark=DarkExample,OnTheSide=SideExample,WithoutPadding=NoPaddingExample,OnALink=LinkExample,PopperModifiers=PopperModifiersExample,Focus=FocusExample}}]);