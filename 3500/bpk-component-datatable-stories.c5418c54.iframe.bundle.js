"use strict";(self.webpackChunkbackpack=self.webpackChunkbackpack||[]).push([[437],{"./examples/bpk-component-datatable/stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Autowidth:()=>Autowidth,CustomHeaderData:()=>CustomHeaderData,CustomRowAndHeaderHeights:()=>CustomRowAndHeaderHeights,CustomSorting:()=>CustomSorting,DisabledSort:()=>DisabledSort,FixedWidth:()=>FixedWidth,RowsNotHoverableOrClickable:()=>RowsNotHoverableOrClickable,VisualTest:()=>VisualTest,VisualTestWithZoom:()=>VisualTestWithZoom,WithColumnArray:()=>WithColumnArray,default:()=>stories});var react=__webpack_require__("./node_modules/react/index.js"),react_table=__webpack_require__("./packages/node_modules/react-table/index.js"),bpk_react_utils=__webpack_require__("./packages/bpk-react-utils/index.ts"),bpk_component_icon=__webpack_require__("./packages/bpk-component-icon/index.tsx"),arrow_down=__webpack_require__("./packages/bpk-component-icon/sm/arrow-down.jsx"),arrow_up=__webpack_require__("./packages/bpk-component-icon/sm/arrow-up.jsx");const SORT_DIRECTION_TYPES={ASC:"ASC",DESC:"DESC"};var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const DownIcon=(0,bpk_component_icon.yk)(arrow_down.default),UpIcon=(0,bpk_component_icon.yk)(arrow_up.default),getClassName=(0,bpk_react_utils.fD)({"bpk-data-table-column__header":"bpk-data-table-column__header-ZGwhe","bpk-data-table-column__sort-icons":"bpk-data-table-column__sort-icons-D5r8N","bpk-data-table-column__sort-icon":"bpk-data-table-column__sort-icon-SnnL6","bpk-data-table-column__sort-icon--selected":"bpk-data-table-column__sort-icon--selected-hGSbE","bpk-data-table-column__sort-icon--up":"bpk-data-table-column__sort-icon--up-xsctU"}),KEYCODES_ENTER=13,KEYCODES_SPACEBAR=32,BpkDataTableHeader=_ref=>{let{column}=_ref;const{defaultSortDirection,disableSortBy,flexGrow,headerClassName,headerStyle,isSorted,isSortedDesc,label,minWidth,sortDirection,width}=column,onHeaderClick=()=>{if(!0===disableSortBy)return;let isDescending;isDescending=isSorted?!1===isSortedDesc:sortDirection?sortDirection===SORT_DIRECTION_TYPES.DESC:!!defaultSortDirection&&defaultSortDirection===SORT_DIRECTION_TYPES.DESC,column.toggleSortBy(isDescending)},headerClassNames=getClassName("bpk-data-table-column__header",headerClassName),upIconClassNames=getClassName("bpk-data-table-column__sort-icon--up","bpk-data-table-column__sort-icon",isSorted&&!isSortedDesc&&"bpk-data-table-column__sort-icon--selected"),downIconClassNames=getClassName("bpk-data-table-column__sort-icon--down","bpk-data-table-column__sort-icon",isSorted&&isSortedDesc&&"bpk-data-table-column__sort-icon--selected");return(0,jsx_runtime.jsxs)("div",{...column.getHeaderProps({style:{width,minWidth,flexGrow,...headerStyle},className:headerClassNames}),children:[(0,jsx_runtime.jsx)("span",{onClick:onHeaderClick,onKeyDown:event=>{event.keyCode!==KEYCODES_ENTER&&event.keyCode!==KEYCODES_SPACEBAR||(event.preventDefault(),onHeaderClick())},"aria-label":label,"aria-pressed":isSorted,role:"button",tabIndex:0,children:column.render("Header")}),!disableSortBy&&(0,jsx_runtime.jsxs)("div",{className:getClassName("bpk-data-table-column__sort-icons"),"aria-hidden":!0,children:[(0,jsx_runtime.jsx)("div",{className:upIconClassNames,children:(0,jsx_runtime.jsx)(UpIcon,{onClick:()=>column.toggleSortBy(!1)})}),(0,jsx_runtime.jsx)("div",{className:downIconClassNames,children:(0,jsx_runtime.jsx)(DownIcon,{onClick:()=>column.toggleSortBy(!0)})})]},"sort")]})},src_BpkDataTableHeader=BpkDataTableHeader;try{BpkDataTableHeader.displayName="BpkDataTableHeader",BpkDataTableHeader.__docgenInfo={description:"Internal component to render the header of a column.",displayName:"BpkDataTableHeader",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/bpk-component-datatable/src/BpkDataTableHeader.tsx#BpkDataTableHeader"]={docgenInfo:BpkDataTableHeader.__docgenInfo,name:"BpkDataTableHeader",path:"packages/bpk-component-datatable/src/BpkDataTableHeader.tsx#BpkDataTableHeader"})}catch(__react_docgen_typescript_loader_error){}const createColumnsSchema=columns=>{let columnsArray=[];return columns?(columnsArray=columns.map((column=>({...column,...column.Cell&&{Cell:_ref=>{let{column:{id:accessor},columns:columnsData,row:{id:rowID,values:rowData},sortedRows,value:cellData}=_ref;return column.Cell({rowData,rowIndex:sortedRows.map((row=>row.id)).indexOf(rowID),accessor,columnIndex:columnsData.map((col=>col.id)).indexOf(accessor),cellData})}},Header:column.Header&&"function"==typeof column.Header?_ref2=>{let{column:{disableSortBy,id:accessor,label}}=_ref2;return column.Header({label,disableSortBy,accessor})}:column.label}))),columnsArray):columnsArray},BpkDataTable_getClassName=(0,bpk_react_utils.fD)({"bpk-data-table":"bpk-data-table-IkN1l","bpk-data-table__header-row":"bpk-data-table__header-row-uPACF","bpk-data-table__row":"bpk-data-table__row-Ek5Xs","bpk-data-table__row--clickable":"bpk-data-table__row--clickable-FmHsA","bpk-data-table__row--selected":"bpk-data-table__row--selected-wpxs9","bpk-data-table__cell":"bpk-data-table__cell-GoVnM"}),BpkDataTable_KEYCODES_ENTER=13,BpkDataTable_KEYCODES_SPACEBAR=32,BpkDataTable_BpkDataTable=props=>{const{className=null,columns:columnsData,defaultColumnSortIndex=0,headerClassName,headerHeight="3.75rem",height,onRowClick,rowClassName,rowHeight="3.75rem",rowStyle,rows:rowsData,sort=null,sortBy=null,sortDirection=SORT_DIRECTION_TYPES.ASC,width,...restOfProps}=props,[rowSelected,updateRowSelected]=(0,react.useState)(void 0),classNames=BpkDataTable_getClassName("bpk-data-table",className),headerClassNames=BpkDataTable_getClassName("bpk-data-table__row","bpk-data-table__header-row",headerClassName),columns=(0,react.useMemo)((()=>createColumnsSchema(columnsData)),[columnsData]),data=(0,react.useMemo)((()=>rowsData),[rowsData]),{getTableBodyProps,getTableProps,headerGroups,prepareRow,rows}=(0,react_table.useTable)({columns,data,initialState:{sortBy:(0,react.useMemo)((()=>[...sort?[]:[{id:columns[defaultColumnSortIndex].accessor,desc:"DESC"===columns[defaultColumnSortIndex].defaultSortDirection||!1}]]),[defaultColumnSortIndex,columns,sort])}},react_table.useSortBy),onRowClicked=index=>{void 0!==onRowClick&&(updateRowSelected(rowSelected===index?void 0:index),onRowClick(rows[index].original))};return(0,jsx_runtime.jsxs)("div",{...getTableProps({style:{width,height},className:classNames}),...restOfProps,children:[(0,jsx_runtime.jsx)("div",{children:headerGroups.map((headerGroup=>(0,jsx_runtime.jsx)("div",{...headerGroup.getHeaderGroupProps({style:{height:headerHeight},className:headerClassNames}),children:headerGroup.headers.map((column=>(sort&&sortBy&&column.id===sortBy&&(column.sortType="function"==typeof sort?(rowA,rowB,columnID,desc)=>sort(null==rowA?void 0:rowA.values,null==rowB?void 0:rowB.values,columnID,desc):sort,column.sortDirection=sortDirection),(0,jsx_runtime.jsx)(src_BpkDataTableHeader,{column},column.id))))})))}),(0,jsx_runtime.jsx)("div",{...getTableBodyProps(),children:rows.map(((row,i)=>{prepareRow(row);const cellClassNames=[BpkDataTable_getClassName("bpk-data-table__cell")];return(0,jsx_runtime.jsx)("div",{onClick:()=>onRowClicked(i),role:"button",onKeyDown:event=>((event,i)=>{event.keyCode!==BpkDataTable_KEYCODES_ENTER&&event.keyCode!==BpkDataTable_KEYCODES_SPACEBAR||(event.preventDefault(),onRowClicked(i))})(event,i),tabIndex:0,...row.getRowProps({style:{...rowStyle,height:rowHeight},className:(index=i,consumerClassName=rowClassName,BpkDataTable_getClassName("bpk-data-table__row",rowSelected===index&&"bpk-data-table__row--selected",void 0!==onRowClick&&"bpk-data-table__row--clickable",-1===index&&"bpk-data-table__header-row",consumerClassName&&("function"==typeof consumerClassName?consumerClassName({index}):consumerClassName)))}),children:row.cells.map((cell=>(cell.column.className&&cellClassNames.push(cell.column.className),(0,jsx_runtime.jsx)("div",{...cell.getCellProps({style:{width:cell.column.width,minWidth:cell.column.minWidth,flexGrow:cell.column.flexGrow},className:cellClassNames.join(" ")}),children:cell.render("Cell")}))))});var index,consumerClassName}))})]})},src_BpkDataTable=BpkDataTable_BpkDataTable;try{BpkDataTable_BpkDataTable.displayName="BpkDataTable",BpkDataTable_BpkDataTable.__docgenInfo={description:"",displayName:"BpkDataTable",props:{rows:{defaultValue:null,description:"",name:"rows",required:!0,type:{name:"{ [key: string]: any; }"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnType[]"}},height:{defaultValue:null,description:"Table height. Please provide this value in rem.",name:"height",required:!0,type:{name:"string | number"}},width:{defaultValue:null,description:"Table width. Please provide this value in rem.\nIf not provided, the table will expand to fill the available space.",name:"width",required:!1,type:{name:"string | number | undefined"}},headerHeight:{defaultValue:null,description:"Height of the header row. Please provide this value in rem.",name:"headerHeight",required:!1,type:{name:"string | number | undefined"}},headerClassName:{defaultValue:null,description:"",name:"headerClassName",required:!1,type:{name:"string | null | undefined"}},rowHeight:{defaultValue:null,description:"Height of a row (except for the header row). Please provide this value in rem.",name:"rowHeight",required:!1,type:{name:"string | number | undefined"}},rowStyle:{defaultValue:null,description:"",name:"rowStyle",required:!1,type:{name:"{} | undefined"}},rowClassName:{defaultValue:null,description:"",name:"rowClassName",required:!1,type:{name:"string | ((arg0: any) => string) | undefined"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | null | undefined"}},defaultColumnSortIndex:{defaultValue:null,description:"The data will be sorted by default based on this column.",name:"defaultColumnSortIndex",required:!1,type:{name:"number | undefined"}},sort:{defaultValue:null,description:"For custom sorting, pass a sort function - must be memoized. It should return 1 if rowA is larger, and -1 if rowB is larger.\nYou can also pass a string: basic, datetime, alphanumeric. By default, alphanumeric sorting will be applied.",name:"sort",required:!1,type:{name:"string | ((rowA: any, rowB: any, columnId: string, desc: boolean) => number) | undefined"}},sortBy:{defaultValue:null,description:"Use sortBy to specify which column the custom sorting will be applied to. To specify the column, use the accessor of the column.",name:"sortBy",required:!1,type:{name:"string | undefined"}},sortDirection:{defaultValue:null,description:"Use sortDirection to set the direction of sorting. By default, it will be ascending.",name:"sortDirection",required:!1,type:{name:'"ASC" | "DESC" | undefined'}},onRowClick:{defaultValue:null,description:"Callback function that will be called when a row is clicked. The entire row object (originally passed in the data prop) will be passed to this function.",name:"onRowClick",required:!1,type:{name:"((arg: {}) => void) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/bpk-component-datatable/src/BpkDataTable.tsx#BpkDataTable"]={docgenInfo:BpkDataTable_BpkDataTable.__docgenInfo,name:"BpkDataTable",path:"packages/bpk-component-datatable/src/BpkDataTable.tsx#BpkDataTable"})}catch(__react_docgen_typescript_loader_error){}const rows=[{name:"Abikso",description:"A village in northern Sweden, home to the Climate Impacts Research Centre.",location:"Sweden",numericValue:1},{name:"Nara",description:"A city in Japan famous for its deer population.",location:"Japan",numericValue:2},{name:"Erfoud",description:"A Moroccan oasis town that has been used as a location for many films.",location:"Morocco",numericValue:3},{name:"Panjin",description:"A Chinese city famed for its vividly-coloured red seabeach.",location:"China",numericValue:4}],complexRows=[{name:"Jose",description:"Software Engineer",seat:{office:"London",desk:10}},{name:"Rolf",description:"Manager",seat:{office:"Barcelona",desk:12}},{name:"John",description:"Software Engineer",seat:{office:"Barcelona",desk:15}}],onRowClick=row=>alert(JSON.stringify(row)),sortFunc=(rowA,rowB)=>{const deskA=rowA.seat.desk,deskB=rowB.seat.desk;return deskA===deskB?0:deskA>deskB?1:-1},LabelComponent=_ref=>{let{label}=_ref;return(0,jsx_runtime.jsxs)("div",{children:[" This is a ",label," "]})},CellRenderer=_ref2=>{let{cellData,rowData}=_ref2;return"Jose"===rowData.name?(0,jsx_runtime.jsx)("div",{children:" Remote "}):(0,jsx_runtime.jsxs)("div",{children:[cellData.office," - ",cellData.desk]})},AutowidthExample=()=>(0,jsx_runtime.jsx)(src_BpkDataTable,{rows,height:"25rem",onRowClick,columns:[{label:"Name",accessor:"name",width:"6.25rem"},{label:"Description",accessor:"description",width:"6.25rem",flexGrow:1},{label:"Location",accessor:"location",width:"6.25rem"},{label:"Numeric value",accessor:"numericValue",width:"6.25rem"}]}),stories={title:"bpk-component-datatable",component:src_BpkDataTable},Autowidth=AutowidthExample,RowsNotHoverableOrClickable=()=>(0,jsx_runtime.jsx)(src_BpkDataTable,{rows,height:"18.75rem",columns:[{label:"Name",accessor:"name",width:"6.25rem"},{label:"Description",accessor:"description",width:"6.25rem",flexGrow:1},{label:"Location",accessor:"location",width:"6.25rem"}]}),FixedWidth=()=>(0,jsx_runtime.jsx)(src_BpkDataTable,{rows,height:"18.75rem",width:"25rem",onRowClick,columns:[{label:"Name",accessor:"name",width:"6.25rem"},{label:"Description",accessor:"description",width:"6.25rem",flexGrow:1},{label:"Location",accessor:"location",width:"6.25rem"}]}),DisabledSort=()=>(0,jsx_runtime.jsx)(src_BpkDataTable,{rows,height:"18.75rem",onRowClick,columns:[{label:"Name",accessor:"name",width:"6.25rem"},{label:"Description (Disabled Sorting)",accessor:"description",width:"6.25rem",flexGrow:1,disableSortBy:!0},{label:"Location",accessor:"location",width:"6.25rem"}]}),CustomRowAndHeaderHeights=()=>(0,jsx_runtime.jsx)(src_BpkDataTable,{rows,height:"18.75rem",headerHeight:"5rem",rowHeight:"1.875rem",onRowClick,columns:[{label:"Name",accessor:"name",width:"18.75rem"},{label:"Description",accessor:"description",width:"6.25rem",flexGrow:1},{label:"Location",accessor:"location",width:"6.25rem"}]}),CustomSorting=()=>(0,jsx_runtime.jsx)(src_BpkDataTable,{rows:complexRows,columns:[{label:"Name",accessor:"name",width:"6.25rem"},{label:"Description",accessor:"description",width:"6.25rem",flexGrow:1,Header:LabelComponent},{label:"Seat",accessor:"seat",width:"6.25rem",Cell:CellRenderer}],height:"25rem",onRowClick,sort:sortFunc,sortBy:"seat",sortDirection:"DESC"}),CustomHeaderData=()=>(0,jsx_runtime.jsx)(src_BpkDataTable,{rows,height:"25rem",onRowClick,columns:[{label:"Name",accessor:"name",width:"6.25rem"},{label:"Description",accessor:"description",width:"6.25rem",flexGrow:1},{label:"Location",accessor:"location",width:"6.25rem"},{label:"Numeric value",accessor:"numericValue",width:"6.25rem",Header:LabelComponent}]}),WithColumnArray=()=>(0,jsx_runtime.jsx)(src_BpkDataTable,{rows:complexRows,height:"25rem",onRowClick,columns:[{label:"Name",accessor:"name",width:"6.25rem"},{label:"Description",accessor:"description",width:"6.25rem",flexGrow:1,Header:LabelComponent},{label:"Seat",accessor:"seat",width:"6.25rem",Cell:CellRenderer}]}),VisualTest=AutowidthExample,VisualTestWithZoom={render:AutowidthExample,args:{zoomEnabled:!0}}},"./packages/bpk-component-icon/sm/arrow-down.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ArrowDownIcon=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"1rem",height:"1rem",...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M16.537 8.25H7.463a1.358 1.358 0 0 0-1.11 2.251l4.354 4.77a1.53 1.53 0 0 0 2.184.04l4.718-4.77a1.357 1.357 0 0 0-1.072-2.291"})});ArrowDownIcon.__docgenInfo={description:"",methods:[],displayName:"ArrowDownIcon"};const __WEBPACK_DEFAULT_EXPORT__=ArrowDownIcon;ArrowDownIcon.__docgenInfo={description:"",methods:[],displayName:"ArrowDownIcon"}},"./packages/bpk-component-icon/sm/arrow-up.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ArrowUpIcon=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",width:"1rem",height:"1rem",...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M7.463 15.75h9.074a1.358 1.358 0 0 0 1.11-2.251l-4.354-4.77a1.53 1.53 0 0 0-2.184-.04l-4.718 4.77a1.357 1.357 0 0 0 1.072 2.291"})});ArrowUpIcon.__docgenInfo={description:"",methods:[],displayName:"ArrowUpIcon"};const __WEBPACK_DEFAULT_EXPORT__=ArrowUpIcon;ArrowUpIcon.__docgenInfo={description:"",methods:[],displayName:"ArrowUpIcon"}}}]);