"use strict";(globalThis.webpackChunkbackpack=globalThis.webpackChunkbackpack||[]).push([[8987],{"./packages/bpk-component-breakpoint/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,LO:()=>_src_BpkBreakpoint__WEBPACK_IMPORTED_MODULE_0__.L});var _src_BpkBreakpoint__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/bpk-component-breakpoint/src/BpkBreakpoint.tsx");__webpack_require__("./packages/bpk-component-breakpoint/src/useMediaQuery.ts");const __WEBPACK_DEFAULT_EXPORT__=_src_BpkBreakpoint__WEBPACK_IMPORTED_MODULE_0__.A},"./packages/bpk-component-breakpoint/src/BpkBreakpoint.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,L:()=>BREAKPOINTS});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_skyscanner_bpk_foundations_web_tokens_base_es6__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/node_modules/@skyscanner/bpk-foundations-web/tokens/base.es6.js"),_useMediaQuery__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/bpk-component-breakpoint/src/useMediaQuery.ts");const BREAKPOINTS={SMALL_MOBILE:_skyscanner_bpk_foundations_web_tokens_base_es6__WEBPACK_IMPORTED_MODULE_1__.fin.breakpointQuerySmallMobile,MOBILE:_skyscanner_bpk_foundations_web_tokens_base_es6__WEBPACK_IMPORTED_MODULE_1__.fin.breakpointQueryMobile,SMALL_TABLET:_skyscanner_bpk_foundations_web_tokens_base_es6__WEBPACK_IMPORTED_MODULE_1__.fin.breakpointQuerySmallTablet,SMALL_TABLET_ONLY:_skyscanner_bpk_foundations_web_tokens_base_es6__WEBPACK_IMPORTED_MODULE_1__.fin.breakpointQuerySmallTabletOnly,TABLET:_skyscanner_bpk_foundations_web_tokens_base_es6__WEBPACK_IMPORTED_MODULE_1__.fin.breakpointQueryTablet,TABLET_ONLY:_skyscanner_bpk_foundations_web_tokens_base_es6__WEBPACK_IMPORTED_MODULE_1__.fin.breakpointQueryTabletOnly,ABOVE_MOBILE:_skyscanner_bpk_foundations_web_tokens_base_es6__WEBPACK_IMPORTED_MODULE_1__.fin.breakpointQueryAboveMobile,ABOVE_TABLET:_skyscanner_bpk_foundations_web_tokens_base_es6__WEBPACK_IMPORTED_MODULE_1__.fin.breakpointQueryAboveTablet,ABOVE_DESKTOP:_skyscanner_bpk_foundations_web_tokens_base_es6__WEBPACK_IMPORTED_MODULE_1__.fin.breakpointQueryAboveDesktop,DESKTOP_ONLY:_skyscanner_bpk_foundations_web_tokens_base_es6__WEBPACK_IMPORTED_MODULE_1__.fin.breakpointQueryDesktopOnly},BpkBreakpoint=_ref=>{let{children,legacy=!1,matchSSR=!1,query}=_ref;const[,updateState]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{updateState({})}),[]);const matches=(0,_useMediaQuery__WEBPACK_IMPORTED_MODULE_2__.A)(query,matchSSR),isClient="undefined"!=typeof window;return((query,legacy,isClient)=>{(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{isClient&&(legacy||Object.values(BREAKPOINTS).includes(query)||console.warn(`Invalid query ${query}. Use one of the supported queries or pass the legacy prop.`))}),[isClient,legacy,query])})(query,legacy,isClient),isClient?"function"==typeof children?children(matches):matches?children:null:"function"==typeof children?children(matchSSR):matchSSR?children:null},__WEBPACK_DEFAULT_EXPORT__=BpkBreakpoint;try{BpkBreakpoint.displayName="BpkBreakpoint",BpkBreakpoint.__docgenInfo={description:"",displayName:"BpkBreakpoint",props:{children:{defaultValue:null,description:"The content to render when the breakpoint matches.",name:"children",required:!0,type:{name:"ReactNode | ((matches: boolean) => ReactNode)"}},query:{defaultValue:null,description:"",name:"query",required:!0,type:{name:"string"}},legacy:{defaultValue:{value:"false"},description:"",name:"legacy",required:!1,type:{name:"boolean | undefined"}},matchSSR:{defaultValue:{value:"false"},description:"",name:"matchSSR",required:!1,type:{name:"boolean | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/bpk-component-breakpoint/src/BpkBreakpoint.tsx#BpkBreakpoint"]={docgenInfo:BpkBreakpoint.__docgenInfo,name:"BpkBreakpoint",path:"packages/bpk-component-breakpoint/src/BpkBreakpoint.tsx#BpkBreakpoint"})}catch(__react_docgen_typescript_loader_error){}},"./packages/bpk-component-breakpoint/src/useMediaQuery.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=function(query){let matchSSR=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const isClient="undefined"!=typeof window&&!!window.matchMedia,[matches,setMatches]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(isClient?window.matchMedia(query).matches:matchSSR);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(isClient){const media=window.matchMedia(query);setMatches(media.matches);const listener=()=>{setMatches(media.matches)};return media.addEventListener("change",listener),()=>media.removeEventListener("change",listener)}return()=>{}}),[query,isClient]),matches}},"./packages/bpk-component-calendar/test-utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H6:()=>formatDateFull,Mq:()=>weekDays,UL:()=>formatMonth});var date_fns_format__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/node_modules/date-fns/format.mjs");const formatDateFull=date=>(0,date_fns_format__WEBPACK_IMPORTED_MODULE_0__.GP)(date,"EEEE, do MMMM yyyy"),formatMonth=date=>(0,date_fns_format__WEBPACK_IMPORTED_MODULE_0__.GP)(date,"MMMM yyyy"),weekDays=[{name:"Sunday",nameAbbr:"Sun",nameNarrow:"S",index:0,isWeekend:!0},{name:"Monday",nameAbbr:"Mon",nameNarrow:"M",index:1,isWeekend:!1},{name:"Tuesday",nameAbbr:"Tue",nameNarrow:"T",index:2,isWeekend:!1},{name:"Wednesday",nameAbbr:"Wed",nameNarrow:"W",index:3,isWeekend:!1},{name:"Thursday",nameAbbr:"Thu",nameNarrow:"T",index:4,isWeekend:!1},{name:"Friday",nameAbbr:"Fri",nameNarrow:"F",index:5,isWeekend:!1},{name:"Saturday",nameAbbr:"Sat",nameNarrow:"S",index:6,isWeekend:!0}]},"./packages/bpk-component-datepicker/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>bpk_component_datepicker});var bpk_component_calendar=__webpack_require__("./packages/bpk-component-calendar/index.ts"),BpkDatepicker=__webpack_require__("./packages/bpk-component-datepicker/src/BpkDatepicker.tsx"),bpk_component_modal=__webpack_require__("./packages/bpk-component-modal/index.ts"),bpk_component_popover=__webpack_require__("./packages/bpk-component-popover/index.ts");[...bpk_component_calendar.vy,...bpk_component_popover.v,...bpk_component_modal.vy].filter(((attribute,index,attributes)=>attributes.indexOf(attribute)===index));const bpk_component_datepicker=BpkDatepicker.A},"./packages/bpk-component-datepicker/src/BpkDatepicker.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_bpk_component_breakpoint__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/bpk-component-breakpoint/index.ts"),_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/bpk-component-calendar/index.ts"),_bpk_component_input__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/bpk-component-input/index.ts"),_bpk_component_modal__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/bpk-component-modal/index.ts"),_bpk_component_popover__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/bpk-component-popover/index.ts"),_bpk_react_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/bpk-react-utils/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Input=(0,_bpk_component_input__WEBPACK_IMPORTED_MODULE_3__.y_)(_bpk_component_input__WEBPACK_IMPORTED_MODULE_3__.Ay),DefaultCalendar=(0,_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.WY)((0,_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.bB)(_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.L6,_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.NJ,_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.Mu,_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.Qu));class BpkDatepicker extends react__WEBPACK_IMPORTED_MODULE_0__.Component{static defaultProps=(()=>({calendarComponent:DefaultCalendar,inputComponent:null,dateModifiers:{},inputProps:{},fixedWidth:!0,markOutsideDays:!0,markToday:DefaultCalendar.defaultProps.markToday,maxDate:DefaultCalendar.defaultProps.maxDate,minDate:DefaultCalendar.defaultProps.minDate,nextMonthLabel:null,onDateSelect:null,onOpenChange:null,onMonthChange:null,previousMonthLabel:null,selectionConfiguration:{type:_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.BH.single,date:null},initiallyFocusedDate:null,renderTarget:null,isOpen:!1,valid:null}))();constructor(props){super(props),this.state={isOpen:props.isOpen},this.focusRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.createRef)(),this.inputRef=ref=>{this.elementRef=ref}}componentDidUpdate(prevProps,prevState){const{isOpen}=this.props;prevProps.isOpen!==isOpen&&prevState.isOpen!==isOpen&&(isOpen?this.onOpen():this.onClose())}onOpen=()=>{this.setState({isOpen:!0}),this.props.onOpenChange&&this.props.onOpenChange(!0)};onClose=()=>{this.setState({isOpen:!1}),this.props.onOpenChange&&this.props.onOpenChange(!1)};getLabel=(selectionConfiguration,formatDateFull)=>{if(selectionConfiguration.type===_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.BH.single&&selectionConfiguration.date)return formatDateFull(selectionConfiguration.date);if(selectionConfiguration.type===_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.BH.range){if(selectionConfiguration.startDate&&!selectionConfiguration.endDate)return formatDateFull(selectionConfiguration.startDate);if(selectionConfiguration.startDate&&selectionConfiguration.endDate)return`${formatDateFull(selectionConfiguration.startDate)} - ${formatDateFull(selectionConfiguration.endDate)}`}return""};getValue=(selectionConfiguration,formatDate)=>{if(selectionConfiguration.type===_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.BH.single&&selectionConfiguration.date)return formatDate(selectionConfiguration.date);if(selectionConfiguration.type===_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.BH.range){if(selectionConfiguration.startDate&&!selectionConfiguration.endDate)return formatDate(selectionConfiguration.startDate);if(selectionConfiguration.startDate&&selectionConfiguration.endDate)return`${formatDate(selectionConfiguration.startDate)} - ${formatDate(selectionConfiguration.endDate)}`}return""};handleDateSelect=(()=>{var _this=this;return function(startDate){let endDate=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{maxDate,minDate,onClose,onDateSelect,selectionConfiguration}=_this.props;if(selectionConfiguration&&(selectionConfiguration.type===_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.BH.single||selectionConfiguration.type===_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.BH.range&&endDate)&&!onClose&&_this.onClose(),onDateSelect){const newStartDate=_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.Em.dateToBoundaries(startDate,_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.Em.startOfDay(minDate),_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.Em.startOfDay(maxDate)),newEndDate=_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.Em.dateToBoundaries(endDate,_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.Em.startOfDay(minDate),_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.Em.startOfDay(maxDate));selectionConfiguration&&selectionConfiguration.type===_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.BH.range&&selectionConfiguration.startDate&&!selectionConfiguration.endDate&&(_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.Em.isAfter(newEndDate,selectionConfiguration.startDate)||_bpk_component_calendar__WEBPACK_IMPORTED_MODULE_2__.Em.isSameDay(newEndDate,selectionConfiguration.startDate))?(onDateSelect(selectionConfiguration.startDate,newEndDate),_this.elementRef&&(0,_bpk_react_utils__WEBPACK_IMPORTED_MODULE_6__.ZW)(_this.elementRef,_this.props.formatDate(newEndDate))):(_this.elementRef&&(0,_bpk_react_utils__WEBPACK_IMPORTED_MODULE_6__.ZW)(_this.elementRef,_this.props.formatDate(newStartDate)),onDateSelect(newStartDate))}}})();render(){const{calendarComponent:Calendar,changeMonthLabel,closeButtonText,dateModifiers,daysOfWeek,fixedWidth,formatDate,formatDateFull,formatMonth,getApplicationElement,id,initiallyFocusedDate,inputComponent,inputProps,markOutsideDays,markToday,maxDate,minDate,nextMonthLabel,onMonthChange,previousMonthLabel,renderTarget,selectionConfiguration,title,valid,weekStartsOn,...rest}=this.props;delete rest.onDateSelect,delete rest.onOpenChange,delete rest.isOpen;const input=inputComponent||(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{ref:this.focusRef,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(Input,{inputRef:this.inputRef,id,name:`${id}_input`,value:this.getValue(selectionConfiguration,formatDate),"aria-live":"polite","aria-atomic":"true","aria-label":this.getLabel(selectionConfiguration,formatDateFull),onChange:()=>null,onOpen:this.onOpen,isOpen:this.state.isOpen,valid,...inputProps})}),calendarProps={id:`${id}-calendar`,changeMonthLabel,dateModifiers,daysOfWeek,formatDateFull,formatMonth,markOutsideDays,markToday,maxDate,minDate,nextMonthLabel,onDateSelect:this.handleDateSelect,onMonthChange,previousMonthLabel,weekStartsOn,initiallyFocusedDate,selectionConfiguration};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_bpk_component_breakpoint__WEBPACK_IMPORTED_MODULE_1__.Ay,{query:_bpk_component_breakpoint__WEBPACK_IMPORTED_MODULE_1__.LO.MOBILE,children:isMobile=>isMobile?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Fragment,{children:[input,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_bpk_component_modal__WEBPACK_IMPORTED_MODULE_4__.Ay,{id:`${id}-modal`,renderTarget,onClose:this.props.onClose||this.onClose,isOpen:this.state.isOpen,title,closeLabel:closeButtonText,getApplicationElement,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(Calendar,{...calendarProps,fixedWidth:!1})})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_bpk_component_popover__WEBPACK_IMPORTED_MODULE_5__.A,{id:`${id}-popover`,target:input,onClose:this.props.onClose||this.onClose,isOpen:this.state.isOpen,label:title,closeButtonText,...rest,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(Calendar,{...calendarProps,fixedWidth})})})}}const __WEBPACK_DEFAULT_EXPORT__=BpkDatepicker;try{BpkDatepicker.displayName="BpkDatepicker",BpkDatepicker.__docgenInfo={description:"",displayName:"BpkDatepicker",props:{changeMonthLabel:{defaultValue:null,description:"",name:"changeMonthLabel",required:!0,type:{name:"string"}},closeButtonText:{defaultValue:null,description:"",name:"closeButtonText",required:!0,type:{name:"string"}},daysOfWeek:{defaultValue:null,description:"",name:"daysOfWeek",required:!0,type:{name:"DaysOfWeek"}},formatDate:{defaultValue:null,description:"",name:"formatDate",required:!0,type:{name:"(date: Date) => string"}},formatDateFull:{defaultValue:null,description:"",name:"formatDateFull",required:!0,type:{name:"(date: Date) => string"}},formatMonth:{defaultValue:null,description:"",name:"formatMonth",required:!0,type:{name:"(date: Date) => string"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},getApplicationElement:{defaultValue:null,description:'Because this component uses a modal on mobile viewports, you need to let it know what\nthe root element of your application is by returning its DOM node via this prop\nThis is to "hide" your application from screen readers whilst the datepicker is open.\nThe "pagewrap" element id is a convention we use internally at Skyscanner. In most cases it should "just work".',name:"getApplicationElement",required:!0,type:{name:"() => HTMLElement | null"}},nextMonthLabel:{defaultValue:{value:"null"},description:"",name:"nextMonthLabel",required:!1,type:{name:"string"}},previousMonthLabel:{defaultValue:{value:"null"},description:"",name:"previousMonthLabel",required:!1,type:{name:"string"}},weekStartsOn:{defaultValue:null,description:"",name:"weekStartsOn",required:!0,type:{name:"number"}},calendarComponent:{defaultValue:{value:"withCalendarState(\n  composeCalendar(\n    BpkCalendarNav,\n    BpkCalendarGridHeader,\n    BpkCalendarGrid,\n    BpkCalendarDate,\n  ),\n)"},description:"",name:"calendarComponent",required:!1,type:{name:"ReactComponent"}},inputComponent:{defaultValue:{value:"null"},description:"By default BpkInput. If passed, it should be a DOM node with a ref attached to it.",name:"inputComponent",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>> | null"}},dateModifiers:{defaultValue:{value:"{}"},description:"",name:"dateModifiers",required:!1,type:{name:"{} | undefined"}},fixedWidth:{defaultValue:{value:"true"},description:"",name:"fixedWidth",required:!1,type:{name:"boolean | undefined"}},inputProps:{defaultValue:{value:"{}"},description:"",name:"inputProps",required:!1,type:{name:"{} | undefined"}},markOutsideDays:{defaultValue:{value:"true"},description:"",name:"markOutsideDays",required:!1,type:{name:"boolean | undefined"}},markToday:{defaultValue:{value:"true"},description:"",name:"markToday",required:!1,type:{name:"boolean | undefined"}},maxDate:{defaultValue:{value:"addMonths(new Date(), 12)"},description:"",name:"maxDate",required:!1,type:{name:"Date | undefined"}},minDate:{defaultValue:{value:"new Date()"},description:"",name:"minDate",required:!1,type:{name:"Date | undefined"}},onDateSelect:{defaultValue:{value:"null"},description:"",name:"onDateSelect",required:!1,type:{name:"((date: Date, newDate?: Date | undefined) => void) | null | undefined"}},onMonthChange:{defaultValue:{value:"null"},description:"",name:"onMonthChange",required:!1,type:{name:"((event: UIEvent, { month, source }: { month: Date; source: string; }) => void) | null | undefined"}},onOpenChange:{defaultValue:{value:"null"},description:"",name:"onOpenChange",required:!1,type:{name:"((arg0: boolean) => void | null) | undefined"}},selectionConfiguration:{defaultValue:{value:"{\n      type: CALENDAR_SELECTION_TYPE.single,\n      date: null,\n    }"},description:"",name:"selectionConfiguration",required:!1,type:{name:"SelectionConfiguration | undefined"}},initiallyFocusedDate:{defaultValue:{value:"null"},description:"",name:"initiallyFocusedDate",required:!1,type:{name:"Date | undefined"}},renderTarget:{defaultValue:{value:"null"},description:"",name:"renderTarget",required:!1,type:{name:"HTMLElement | (() => HTMLElement | null) | null | undefined"}},isOpen:{defaultValue:{value:"false"},description:"",name:"isOpen",required:!1,type:{name:"boolean | undefined"}},valid:{defaultValue:{value:"null"},description:"",name:"valid",required:!1,type:{name:"boolean | undefined"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/bpk-component-datepicker/src/BpkDatepicker.tsx#BpkDatepicker"]={docgenInfo:BpkDatepicker.__docgenInfo,name:"BpkDatepicker",path:"packages/bpk-component-datepicker/src/BpkDatepicker.tsx#BpkDatepicker"})}catch(__react_docgen_typescript_loader_error){}},"./packages/bpk-component-popover/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>bpk_component_popover,v:()=>themeAttributes});var BpkPopover=__webpack_require__("./packages/bpk-component-popover/src/BpkPopover.tsx");const themeAttributes=[...__webpack_require__("./packages/bpk-component-link/index.js").vy],bpk_component_popover=BpkPopover.A},"./packages/bpk-component-popover/src/BpkPopover.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>src_BpkPopover});var react=__webpack_require__("./node_modules/react/index.js"),floating_ui_react=__webpack_require__("./packages/node_modules/@floating-ui/react/dist/floating-ui.react.mjs"),floating_ui_react_dom=__webpack_require__("./packages/node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs"),floating_ui_dom=__webpack_require__("./packages/node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs"),base_es6=__webpack_require__("./packages/node_modules/@skyscanner/bpk-foundations-web/tokens/base.es6.js"),bpk_component_close_button=__webpack_require__("./packages/bpk-component-close-button/index.js"),bpk_component_link=__webpack_require__("./packages/bpk-component-link/index.js"),bpk_component_text=__webpack_require__("./packages/bpk-component-text/index.ts"),bpk_react_utils=__webpack_require__("./packages/bpk-react-utils/index.ts");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const getClassName=(0,bpk_react_utils.fD)({"bpk-popover":"bpk-popover-e615M","bpk-popover--appear":"bpk-popover--appear-MD8qo","bpk-popover--appear-active":"bpk-popover--appear-active-Ae584","bpk-popover__arrow":"bpk-popover__arrow-oXrD1","bpk-popover__body--padded":"bpk-popover__body--padded-yYcG5","bpk-popover__header":"bpk-popover__header-x3_1Z","bpk-popover__label":"bpk-popover__label-FCakZ","bpk-popover__footer":"bpk-popover__footer-_Ybbz","bpk-popover__action":"bpk-popover__action-aGY71"}),EVENT_SOURCES_CLOSE_BUTTON="CLOSE_BUTTON",EVENT_SOURCES_CLOSE_LINK="CLOSE_LINK",EVENT_SOURCES_CLOSE_OUTSIDE="CLOSE_OUTSIDE",bindEventSource=(source,callback,event)=>{event.persist&&event.persist(),callback(event,{source})},BpkPopover=_ref=>{let{actionText,children,className=null,closeButtonIcon=!0,closeButtonLabel,closeButtonProps={},closeButtonText,hoverable=!1,id,isOpen=!1,label,labelAsTitle=!1,onAction,onClose,padded=!0,placement="bottom",renderTarget=()=>{},showArrow=!0,target,zIndexValue=900,...rest}=_ref;const[isOpenState,setIsOpenState]=(0,react.useState)(isOpen);(0,react.useEffect)((()=>{isOpen||setIsOpenState(!1)}),[isOpen]);const arrowRef=(0,react.useRef)(null),{context,floatingStyles,refs}=(0,floating_ui_react.we)({open:isOpenState,onOpenChange:isFloatingOpen=>{setIsOpenState(isFloatingOpen),!isFloatingOpen&&onClose&&onClose(null,{source:EVENT_SOURCES_CLOSE_OUTSIDE})},placement,middleware:[showArrow&&(0,floating_ui_react_dom.cY)(17),(0,floating_ui_react_dom.BN)(),showArrow&&(0,floating_ui_react_dom.UE)({element:arrowRef})],whileElementsMounted:floating_ui_dom.ll}),click=(0,floating_ui_react.kp)(context),dismiss=(0,floating_ui_react.s9)(context),hover=(0,floating_ui_react.Mk)(context,{enabled:hoverable,mouseOnly:!0,handleClose:(0,floating_ui_react.iB)({requireIntent:!1})}),{getFloatingProps,getReferenceProps}=(0,floating_ui_react.bv)([click,dismiss,hover]),targetClick=target?.props?.onClick,referenceProps=targetClick?getReferenceProps({onClick:event=>{targetClick&&(event.stopPropagation(),targetClick(event))}}):getReferenceProps(),targetElement=(0,react.isValidElement)(target)?(0,react.cloneElement)(target,{...referenceProps,ref:refs.setReference}):(0,jsx_runtime.jsx)("div",{ref:refs.setReference,...referenceProps,children:target}),classNames=getClassName("bpk-popover",className),bodyClassNames=getClassName(padded&&"bpk-popover__body--padded"),labelId=`bpk-popover-label-${id}`,renderElement="function"==typeof renderTarget?renderTarget():renderTarget;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[targetElement,isOpenState&&(0,jsx_runtime.jsx)(floating_ui_react.XF,{root:renderElement,children:(0,jsx_runtime.jsx)(floating_ui_react.s3,{context,children:(0,jsx_runtime.jsx)("div",{className:getClassName("bpk-popover--container"),ref:refs.setFloating,...getFloatingProps(),style:{...floatingStyles,zIndex:zIndexValue},children:(0,jsx_runtime.jsx)(bpk_react_utils.nW,{appearClassName:getClassName("bpk-popover--appear"),appearActiveClassName:getClassName("bpk-popover--appear-active"),transitionTimeout:200,children:(0,jsx_runtime.jsxs)("section",{id,tabIndex:-1,role:"dialog","aria-labelledby":labelId,className:classNames,...rest,children:[showArrow&&(0,jsx_runtime.jsx)(floating_ui_react.ie,{ref:arrowRef,context,id:"js-bpk-popover-arrow",className:getClassName("bpk-popover__arrow"),role:"presentation",stroke:base_es6.ImM,strokeWidth:.0625}),labelAsTitle?(0,jsx_runtime.jsxs)("header",{className:getClassName("bpk-popover__header"),children:[(0,jsx_runtime.jsx)(bpk_component_text.Ay,{tagName:"h2",id:labelId,textStyle:bpk_component_text.rL.label1,children:label})," ",closeButtonIcon?(0,jsx_runtime.jsx)(bpk_component_close_button.A,{label:closeButtonText||closeButtonLabel,onClick:event=>{bindEventSource(EVENT_SOURCES_CLOSE_BUTTON,onClose,event),setIsOpenState(!1)},...closeButtonProps}):closeButtonText&&(0,jsx_runtime.jsx)(bpk_component_link.qC,{onClick:event=>{bindEventSource(EVENT_SOURCES_CLOSE_LINK,onClose,event),setIsOpenState(!1)},...closeButtonProps,children:closeButtonText})]}):(0,jsx_runtime.jsx)("span",{id:labelId,className:getClassName("bpk-popover__label"),children:label}),(0,jsx_runtime.jsx)("div",{className:bodyClassNames,children}),actionText&&onAction&&(0,jsx_runtime.jsx)("div",{className:getClassName("bpk-popover__action"),children:(0,jsx_runtime.jsx)(bpk_component_link.qC,{onClick:onAction,children:actionText})}),!labelAsTitle&&closeButtonText&&(0,jsx_runtime.jsx)("footer",{className:getClassName("bpk-popover__footer"),children:(0,jsx_runtime.jsx)(bpk_component_link.qC,{onClick:event=>{bindEventSource(EVENT_SOURCES_CLOSE_LINK,onClose,event),setIsOpenState(!1)},...closeButtonProps,children:closeButtonText})})]})})})})})]})},src_BpkPopover=BpkPopover;try{BpkPopover.displayName="BpkPopover",BpkPopover.__docgenInfo={description:"",displayName:"BpkPopover",props:{closeButtonText:{defaultValue:null,description:"",name:"closeButtonText",required:!1,type:{name:"string | undefined"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"(event: SyntheticEvent<HTMLButtonElement, Event> | null, props: { source: string; }) => void"}},className:{defaultValue:{value:"null"},description:"",name:"className",required:!1,type:{name:"string | null | undefined"}},closeButtonIcon:{defaultValue:{value:"true"},description:"",name:"closeButtonIcon",required:!1,type:{name:"boolean | undefined"}},closeButtonProps:{defaultValue:{value:"{}"},description:"",name:"closeButtonProps",required:!1,type:{name:"Object | undefined"}},hoverable:{defaultValue:{value:"false"},description:"",name:"hoverable",required:!1,type:{name:"boolean | undefined"}},isOpen:{defaultValue:{value:"false"},description:"",name:"isOpen",required:!1,type:{name:"boolean | undefined"}},labelAsTitle:{defaultValue:{value:"false"},description:"",name:"labelAsTitle",required:!1,type:{name:"boolean | undefined"}},padded:{defaultValue:{value:"true"},description:"",name:"padded",required:!1,type:{name:"boolean | undefined"}},placement:{defaultValue:{value:"bottom"},description:"",name:"placement",required:!1,type:{name:"Placement | undefined"}},showArrow:{defaultValue:{value:"true"},description:"",name:"showArrow",required:!1,type:{name:"Boolean | undefined"}},target:{defaultValue:null,description:"",name:"target",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},closeButtonLabel:{defaultValue:null,description:"",name:"closeButtonLabel",required:!1,type:{name:"string | undefined"}},actionText:{defaultValue:null,description:"",name:"actionText",required:!1,type:{name:"string | undefined"}},zIndexValue:{defaultValue:{value:"900"},description:"",name:"zIndexValue",required:!1,type:{name:"number | undefined"}},onAction:{defaultValue:null,description:"",name:"onAction",required:!1,type:{name:"(() => void) | undefined"}},renderTarget:{defaultValue:{value:"() => undefined"},description:"",name:"renderTarget",required:!1,type:{name:"(() => HTMLElement | undefined) | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/bpk-component-popover/src/BpkPopover.tsx#BpkPopover"]={docgenInfo:BpkPopover.__docgenInfo,name:"BpkPopover",path:"packages/bpk-component-popover/src/BpkPopover.tsx#BpkPopover"})}catch(__react_docgen_typescript_loader_error){}}}]);